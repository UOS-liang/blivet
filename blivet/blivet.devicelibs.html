
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>blivet.devicelibs package &#8212; Blivet 3.4.2 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="blivet.devices package" href="blivet.devices.html" />
    <link rel="prev" title="blivet.dbus package" href="blivet.dbus.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="blivet.devices.html" title="blivet.devices package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="blivet.dbus.html" title="blivet.dbus package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Blivet 3.4.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="blivet.html" accesskey="U">blivet package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">blivet.devicelibs package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="blivet-devicelibs-package">
<h1>blivet.devicelibs package<a class="headerlink" href="#blivet-devicelibs-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-blivet.devicelibs.btrfs">
<span id="blivet-devicelibs-btrfs-module"></span><h2>blivet.devicelibs.btrfs module<a class="headerlink" href="#module-blivet.devicelibs.btrfs" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="blivet.devicelibs.btrfs.is_btrfs_name_valid">
<code class="sig-prename descclassname">blivet.devicelibs.btrfs.</code><code class="sig-name descname">is_btrfs_name_valid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.btrfs.is_btrfs_name_valid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-blivet.devicelibs.crypto">
<span id="blivet-devicelibs-crypto-module"></span><h2>blivet.devicelibs.crypto module<a class="headerlink" href="#module-blivet.devicelibs.crypto" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="blivet.devicelibs.crypto.calculate_luks2_max_memory">
<code class="sig-prename descclassname">blivet.devicelibs.crypto.</code><code class="sig-name descname">calculate_luks2_max_memory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.crypto.calculate_luks2_max_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates maximum RAM that will be used during LUKS format.
The calculation is based on currenly available (free) memory.
This value will be used for the ‘max_memory_kb’ option for the
‘argon2’ key derivation function.</p>
</dd></dl>

</div>
<div class="section" id="module-blivet.devicelibs.disk">
<span id="blivet-devicelibs-disk-module"></span><h2>blivet.devicelibs.disk module<a class="headerlink" href="#module-blivet.devicelibs.disk" title="Permalink to this headline">¶</a></h2>
<dl class="py attribute">
<dt id="blivet.devicelibs.disk.LSMInfo">
<code class="sig-prename descclassname">blivet.devicelibs.disk.</code><code class="sig-name descname">LSMInfo</code><a class="headerlink" href="#blivet.devicelibs.disk.LSMInfo" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py class">
<dt id="id0">
<em class="property">class </em><code class="sig-prename descclassname">blivet.devicelibs.disk.</code><code class="sig-name descname">LSMInfo</code><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">system (str): descriptive name of HBA unit</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">nodes (list[str]): list of device node paths for the volume</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">raid_type (:class:`~.devicelibs.raid.RAIDLevel` or None): RAID level</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">raid_stripe_size (:class:`~.size.Size` or None): stripe size</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">raid_disk_count (int or None): number of disks in the RAID set</code></dt>
<dd></dd></dl>

<p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">blivet.devicelibs.disk.HBAVolumeInfo</span></code></p>
</dd></dl>

<dl class="py function">
<dt id="blivet.devicelibs.disk.update_volume_info">
<code class="sig-prename descclassname">blivet.devicelibs.disk.</code><code class="sig-name descname">update_volume_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.disk.update_volume_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a dict of namedtuples containing basic HBA RAID info w/ device path keys.</p>
</dd></dl>

</div>
<div class="section" id="module-blivet.devicelibs.edd">
<span id="blivet-devicelibs-edd-module"></span><h2>blivet.devicelibs.edd module<a class="headerlink" href="#module-blivet.devicelibs.edd" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="blivet.devicelibs.edd.EddEntry">
<em class="property">class </em><code class="sig-prename descclassname">blivet.devicelibs.edd.</code><code class="sig-name descname">EddEntry</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sysfspath</span></em>, <em class="sig-param"><span class="n">root</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This object merely collects what the /sys/firmware/edd/* entries can
provide.</p>
<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.ata_device">
<code class="sig-name descname">ata_device</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.ata_device" title="Permalink to this definition">¶</a></dt>
<dd><p>The device number from edd/int13_devXX/interface when self.type
is ATA or SATA (because Linux treats these the same.)</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.ata_pmp">
<code class="sig-name descname">ata_pmp</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.ata_pmp" title="Permalink to this definition">¶</a></dt>
<dd><p>The ATA port multiplier ID from edd/int13_devXX/interface when
self.type is SATA.</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.atapi_device">
<code class="sig-name descname">atapi_device</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.atapi_device" title="Permalink to this definition">¶</a></dt>
<dd><p>The device number of the ATAPI device from
edd/int13_devXX/interface when self.type is ATAPI.</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.atapi_lun">
<code class="sig-name descname">atapi_lun</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.atapi_lun" title="Permalink to this definition">¶</a></dt>
<dd><p>The LUN of the ATAPI device from edd/int13_devXX/interface when
self.type is ATAPI.</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.bios_device_number">
<code class="sig-name descname">bios_device_number</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.bios_device_number" title="Permalink to this definition">¶</a></dt>
<dd><p>The device number from the EDD path</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.channel">
<code class="sig-name descname">channel</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.channel" title="Permalink to this definition">¶</a></dt>
<dd><p>The host bus device’s channel number edd/int13_devXX/host_bus.
The spec says:</p>
<blockquote>
<div><p>Channel number. If more than one interface of the same type is
accessed through a single Bus, Slot, Function, then the channel
number shall identify each interface. If there is only one
interface, the content of this field shall be cleared to zero. If
there are two interfaces, such as an ATA Primary and Secondary
interface, the primary interface shall be zero, and the secondary
interface shall be one.</p>
<p>Values 00h through FEh shall represent a valid Channel Number.</p>
<p>Value FFh shall indicate that this field is not used.</p>
<p>If the device is connected to a SATA controller functioning in
non-PATA emulation mode, this byte shall be FFh.</p>
</div></blockquote>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.fibre_lun">
<code class="sig-name descname">fibre_lun</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.fibre_lun" title="Permalink to this definition">¶</a></dt>
<dd><p>The FibreChannel LUN from edd/int13_devXX/interface when
self.type is FIBRE.</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.fibre_wwid">
<code class="sig-name descname">fibre_wwid</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.fibre_wwid" title="Permalink to this definition">¶</a></dt>
<dd><p>The FibreChannel WWID from edd/int13_devXX/interface when
self.type is FIBRE.</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.host_bus">
<code class="sig-name descname">host_bus</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.host_bus" title="Permalink to this definition">¶</a></dt>
<dd><p>The ID string for the host bus type, from
edd/int13_devXX/host_bus.</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.i2o_identity">
<code class="sig-name descname">i2o_identity</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.i2o_identity" title="Permalink to this definition">¶</a></dt>
<dd><p>The I2O Identity from edd/int13_devXX/interface when self.type
is I2O.</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.ieee1394_eui64">
<code class="sig-name descname">ieee1394_eui64</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.ieee1394_eui64" title="Permalink to this definition">¶</a></dt>
<dd><p>The Firewire/IEEE-1394 EUI-64 ID from edd/int13_devXX/interface
when self.type is 1394.</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.interface">
<code class="sig-name descname">interface</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.interface" title="Permalink to this definition">¶</a></dt>
<dd><p>interface is the actual contents of the interface file,
preserved for logging later.</p>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.edd.EddEntry.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.mbr_sig">
<code class="sig-name descname">mbr_sig</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.mbr_sig" title="Permalink to this definition">¶</a></dt>
<dd><p>The MBR signature data from edd/int13_devXX/mbr_signature</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.pci_dev">
<code class="sig-name descname">pci_dev</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.pci_dev" title="Permalink to this definition">¶</a></dt>
<dd><p>The host bus bus:device.function, from edd/int13_devXX/host_bus.</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.sas_address">
<code class="sig-name descname">sas_address</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.sas_address" title="Permalink to this definition">¶</a></dt>
<dd><p>The SAS Address from edd/int13_devXX/interface when self.type
is SAS.</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.sas_lun">
<code class="sig-name descname">sas_lun</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.sas_lun" title="Permalink to this definition">¶</a></dt>
<dd><p>The SAS LUN from edd/int13_devXX/interface when self.type is SAS.</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.scsi_id">
<code class="sig-name descname">scsi_id</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.scsi_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The SCSI device ID from edd/int13_devXX/interface when
self.type is SCSI</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.scsi_lun">
<code class="sig-name descname">scsi_lun</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.scsi_lun" title="Permalink to this definition">¶</a></dt>
<dd><p>The SCSI device LUN from edd/int13_devXX/interface when
self.type is SCSI</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.sectors">
<code class="sig-name descname">sectors</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.sectors" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of sectors on the device from edd/int13_devXX/sectors</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.sysfslink">
<code class="sig-name descname">sysfslink</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.sysfslink" title="Permalink to this definition">¶</a></dt>
<dd><p>The path /sys/block/BLAH is a symlink link to once we’ve resolved
that this is a particular device.  Used for logging later.</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.sysfspath">
<code class="sig-name descname">sysfspath</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.sysfspath" title="Permalink to this definition">¶</a></dt>
<dd><p>sysfspath is the path we’re probing</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.type">
<code class="sig-name descname">type</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.type" title="Permalink to this definition">¶</a></dt>
<dd><p>The device type from edd/int13_devXX/interface.</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.usb_serial">
<code class="sig-name descname">usb_serial</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.usb_serial" title="Permalink to this definition">¶</a></dt>
<dd><p>The USB storage device’s serial number from
edd/int13_devXX/interface when self.type is USB.</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.edd.EddEntry.version">
<code class="sig-name descname">version</code><a class="headerlink" href="#blivet.devicelibs.edd.EddEntry.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The edd version this entry claims conformance with, from
/sys/firmware/edd/int13_devXX/version</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="blivet.devicelibs.edd.EddMatcher">
<em class="property">class </em><code class="sig-prename descclassname">blivet.devicelibs.edd.</code><code class="sig-name descname">EddMatcher</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edd_entry</span></em>, <em class="sig-param"><span class="n">root</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.edd.EddMatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This object tries to match given entry to a disk device name.</p>
<p>Assuming, heuristic analysis and guessing hapens here.</p>
<dl class="py method">
<dt id="blivet.devicelibs.edd.EddMatcher.devname_from_ata_pci_dev">
<code class="sig-name descname">devname_from_ata_pci_dev</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.edd.EddMatcher.devname_from_ata_pci_dev" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.edd.EddMatcher.devname_from_pci_dev">
<code class="sig-name descname">devname_from_pci_dev</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.edd.EddMatcher.devname_from_pci_dev" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.edd.EddMatcher.devname_from_scsi_pci_dev">
<code class="sig-name descname">devname_from_scsi_pci_dev</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.edd.EddMatcher.devname_from_scsi_pci_dev" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.edd.EddMatcher.devname_from_virt_pci_dev">
<code class="sig-name descname">devname_from_virt_pci_dev</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.edd.EddMatcher.devname_from_virt_pci_dev" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.edd.EddMatcher.devname_from_virtio_scsi_pci_dev">
<code class="sig-name descname">devname_from_virtio_scsi_pci_dev</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.edd.EddMatcher.devname_from_virtio_scsi_pci_dev" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.edd.EddMatcher.match_via_mbrsigs">
<code class="sig-name descname">match_via_mbrsigs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mbr_dict</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.edd.EddMatcher.match_via_mbrsigs" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to match the edd entry based on its mbr signature.</p>
<p>This will obviously fail for a fresh drive/image, but in extreme
cases can also show false positives for randomly matching data.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="blivet.devicelibs.edd.collect_edd_data">
<code class="sig-prename descclassname">blivet.devicelibs.edd.</code><code class="sig-name descname">collect_edd_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.edd.collect_edd_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="blivet.devicelibs.edd.collect_mbrs">
<code class="sig-prename descclassname">blivet.devicelibs.edd.</code><code class="sig-name descname">collect_mbrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">devices</span></em>, <em class="sig-param"><span class="n">root</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.edd.collect_mbrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Read MBR signatures from devices.</p>
<p>Returns a dict mapping device names to their MBR signatures. It is not
guaranteed this will succeed, with a new disk for instance.</p>
</dd></dl>

<dl class="py function">
<dt id="blivet.devicelibs.edd.get_edd_dict">
<code class="sig-prename descclassname">blivet.devicelibs.edd.</code><code class="sig-name descname">get_edd_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">devices</span></em>, <em class="sig-param"><span class="n">root</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.edd.get_edd_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the ‘device name’ -&gt; ‘edd number’ mapping.</p>
<p>The EDD kernel module that exposes /sys/firmware/edd is thoroughly
broken, the information there is incomplete and sometimes downright
wrong. So after we mine out all useful information that the files under
/sys/firmware/edd/int13_*/ can provide, we resort to heuristics and
guessing. Our first attempt is, by looking at the device type int
‘interface’, attempting to map pci device number, channel number etc. to
a sysfs path, check that the path really exists, then read the device
name (e.g ‘sda’) from there. Should this fail we try to match contents
of ‘mbr_signature’ to a real MBR signature found on the existing block
devices.</p>
</dd></dl>

</div>
<div class="section" id="module-blivet.devicelibs.lvm">
<span id="blivet-devicelibs-lvm-module"></span><h2>blivet.devicelibs.lvm module<a class="headerlink" href="#module-blivet.devicelibs.lvm" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="blivet.devicelibs.lvm.ThPoolProfile">
<em class="property">class </em><code class="sig-prename descclassname">blivet.devicelibs.lvm.</code><code class="sig-name descname">ThPoolProfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">desc</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.lvm.ThPoolProfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<p>Create new instance of ThPoolProfile(name, desc)</p>
<dl class="py attribute">
<dt id="blivet.devicelibs.lvm.ThPoolProfile.desc">
<code class="sig-name descname">desc</code><a class="headerlink" href="#blivet.devicelibs.lvm.ThPoolProfile.desc" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.lvm.ThPoolProfile.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#blivet.devicelibs.lvm.ThPoolProfile.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="blivet.devicelibs.lvm.determine_parent_lv">
<code class="sig-prename descclassname">blivet.devicelibs.lvm.</code><code class="sig-name descname">determine_parent_lv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">internal_lv</span></em>, <em class="sig-param"><span class="n">lvs</span></em>, <em class="sig-param"><span class="n">lv_info</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.lvm.determine_parent_lv" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to determine which of the lvs is the parent of the internal_lv</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>internal_lv</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">LMVInternalLogicalVolumeDevice</span></code>) – the internal LV to determine parent LV from</p></li>
<li><p><strong>lvs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">LMVLogicalVolumeDevice</span></code>) – LVs searched for a potential parent LV</p></li>
<li><p><strong>lv_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – all available information about LVs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="blivet.devicelibs.lvm.ensure_lv_is_writable">
<code class="sig-prename descclassname">blivet.devicelibs.lvm.</code><code class="sig-name descname">ensure_lv_is_writable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vg_name</span></em>, <em class="sig-param"><span class="n">lv_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.lvm.ensure_lv_is_writable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="blivet.devicelibs.lvm.is_lvm_name_valid">
<code class="sig-prename descclassname">blivet.devicelibs.lvm.</code><code class="sig-name descname">is_lvm_name_valid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.lvm.is_lvm_name_valid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="blivet.devicelibs.lvm.lvm_cc_addFilterRejectRegexp">
<code class="sig-prename descclassname">blivet.devicelibs.lvm.</code><code class="sig-name descname">lvm_cc_addFilterRejectRegexp</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.lvm.lvm_cc_addFilterRejectRegexp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="blivet.devicelibs.lvm.lvm_cc_removeFilterRejectRegexp">
<code class="sig-prename descclassname">blivet.devicelibs.lvm.</code><code class="sig-name descname">lvm_cc_removeFilterRejectRegexp</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.lvm.lvm_cc_removeFilterRejectRegexp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="blivet.devicelibs.lvm.lvm_cc_resetFilter">
<code class="sig-prename descclassname">blivet.devicelibs.lvm.</code><code class="sig-name descname">lvm_cc_resetFilter</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.lvm.lvm_cc_resetFilter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="blivet.devicelibs.lvm.lvmetad_socket_exists">
<code class="sig-prename descclassname">blivet.devicelibs.lvm.</code><code class="sig-name descname">lvmetad_socket_exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.lvm.lvmetad_socket_exists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="blivet.devicelibs.lvm.needs_config_refresh">
<code class="sig-prename descclassname">blivet.devicelibs.lvm.</code><code class="sig-name descname">needs_config_refresh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.lvm.needs_config_refresh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-blivet.devicelibs.mdraid">
<span id="blivet-devicelibs-mdraid-module"></span><h2>blivet.devicelibs.mdraid module<a class="headerlink" href="#module-blivet.devicelibs.mdraid" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="blivet.devicelibs.mdraid.MDRaidLevels">
<em class="property">class </em><code class="sig-prename descclassname">blivet.devicelibs.mdraid.</code><code class="sig-name descname">MDRaidLevels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">levels</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.mdraid.MDRaidLevels" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#blivet.devicelibs.raid.RAIDLevels" title="blivet.devicelibs.raid.RAIDLevels"><code class="xref py py-class docutils literal notranslate"><span class="pre">blivet.devicelibs.raid.RAIDLevels</span></code></a></p>
<p>Add the specified standard levels to the levels in this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>levels</strong> (<em>list of valid RAID level descriptors</em>) – the levels to be added to this object</p>
</dd>
</dl>
<p>If levels is True, add all standard levels. Else, levels
must be a list of valid level descriptors of standard levels.
Duplicate descriptors are ignored.</p>
<dl class="py method">
<dt id="blivet.devicelibs.mdraid.MDRaidLevels.is_raid_level">
<em class="property">classmethod </em><code class="sig-name descname">is_raid_level</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">level</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.mdraid.MDRaidLevels.is_raid_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Return False if level does not satisfy minimum requirements for
a RAID level, otherwise return True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><em>object</em></a>) – an object representing a RAID level</p>
</dd>
</dl>
<p>There must be at least one element in the names list, or the level
will be impossible to look up by any string.</p>
<p>The name property must be defined; it should be one of the
elements in the names list.</p>
<p>All RAID objects that extend RAIDlevel are guaranteed to pass these
minimum requirements.</p>
<p>This method should not be overridden in any subclass so that it
is so restrictive that a RAIDlevel object does not satisfy it.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-blivet.devicelibs.raid">
<span id="blivet-devicelibs-raid-module"></span><h2>blivet.devicelibs.raid module<a class="headerlink" href="#module-blivet.devicelibs.raid" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="blivet.devicelibs.raid.ErsatzRAID">
<em class="property">class </em><code class="sig-prename descclassname">blivet.devicelibs.raid.</code><code class="sig-name descname">ErsatzRAID</code><a class="headerlink" href="#blivet.devicelibs.raid.ErsatzRAID" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#blivet.devicelibs.raid.RAIDLevel" title="blivet.devicelibs.raid.RAIDLevel"><code class="xref py py-class docutils literal notranslate"><span class="pre">blivet.devicelibs.raid.RAIDLevel</span></code></a></p>
<p>A superclass for a raid level which is not really a raid level at
all, just a bunch of block devices of possibly differing sizes
thrown together. This concept has different names depending on where
it crops up. btrfs’s name is single, lvm’s is linear. Consequently,
this abstract class implements all the functionality, but there are
distinct subclasses which have different names.</p>
<dl class="py method">
<dt id="blivet.devicelibs.raid.ErsatzRAID.get_max_spares">
<code class="sig-name descname">get_max_spares</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">member_count</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.ErsatzRAID.get_max_spares" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.ErsatzRAID.get_recommended_stride">
<code class="sig-name descname">get_recommended_stride</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">member_count</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.ErsatzRAID.get_recommended_stride" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.ErsatzRAID.get_size">
<code class="sig-name descname">get_size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">member_sizes</span></em>, <em class="sig-param"><span class="n">num_members</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">chunk_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">superblock_size_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.ErsatzRAID.get_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.ErsatzRAID.get_space">
<code class="sig-name descname">get_space</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">num_members</span></em>, <em class="sig-param"><span class="n">chunk_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">superblock_size_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.ErsatzRAID.get_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.ErsatzRAID.has_redundancy">
<code class="sig-name descname">has_redundancy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.ErsatzRAID.has_redundancy" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this RAID level incorporates inherent redundancy.</p>
<p>Note that for some RAID levels, the notion of redundancy is
meaningless.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if this RAID level has inherent redundancy</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.ErsatzRAID.is_uniform">
<em class="property">property </em><code class="sig-name descname">is_uniform</code><a class="headerlink" href="#blivet.devicelibs.raid.ErsatzRAID.is_uniform" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract properties.</p>
<p>Deprecated, use ‘property’ with ‘abstractmethod’ instead:</p>
<blockquote>
<div><dl>
<dt>class C(ABC):</dt><dd><p>&#64;property
&#64;abstractmethod
def my_abstract_property(self):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py attribute">
<dt id="blivet.devicelibs.raid.ErsatzRAID.min_members">
<code class="sig-name descname">min_members</code><em class="property"> = 1</em><a class="headerlink" href="#blivet.devicelibs.raid.ErsatzRAID.min_members" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.ErsatzRAID.nick">
<em class="property">property </em><code class="sig-name descname">nick</code><a class="headerlink" href="#blivet.devicelibs.raid.ErsatzRAID.nick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="blivet.devicelibs.raid.RAIDLevel">
<em class="property">class </em><code class="sig-prename descclassname">blivet.devicelibs.raid.</code><code class="sig-name descname">RAIDLevel</code><a class="headerlink" href="#blivet.devicelibs.raid.RAIDLevel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>An abstract class which is the parent of all classes which represent
a RAID level.</p>
<p>It ensures that RAIDLevel objects will really be singleton objects
by overriding copy methods.</p>
<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDLevel.has_redundancy">
<em class="property">abstract </em><code class="sig-name descname">has_redundancy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.RAIDLevel.has_redundancy" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this RAID level incorporates inherent redundancy.</p>
<p>Note that for some RAID levels, the notion of redundancy is
meaningless.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if this RAID level has inherent redundancy</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDLevel.is_uniform">
<em class="property">abstract property </em><code class="sig-name descname">is_uniform</code><a class="headerlink" href="#blivet.devicelibs.raid.RAIDLevel.is_uniform" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract properties.</p>
<p>Deprecated, use ‘property’ with ‘abstractmethod’ instead:</p>
<blockquote>
<div><dl>
<dt>class C(ABC):</dt><dd><p>&#64;property
&#64;abstractmethod
def my_abstract_property(self):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDLevel.min_members">
<em class="property">abstract property </em><code class="sig-name descname">min_members</code><a class="headerlink" href="#blivet.devicelibs.raid.RAIDLevel.min_members" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract properties.</p>
<p>Deprecated, use ‘property’ with ‘abstractmethod’ instead:</p>
<blockquote>
<div><dl>
<dt>class C(ABC):</dt><dd><p>&#64;property
&#64;abstractmethod
def my_abstract_property(self):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDLevel.name">
<em class="property">abstract property </em><code class="sig-name descname">name</code><a class="headerlink" href="#blivet.devicelibs.raid.RAIDLevel.name" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract properties.</p>
<p>Deprecated, use ‘property’ with ‘abstractmethod’ instead:</p>
<blockquote>
<div><dl>
<dt>class C(ABC):</dt><dd><p>&#64;property
&#64;abstractmethod
def my_abstract_property(self):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDLevel.names">
<em class="property">abstract property </em><code class="sig-name descname">names</code><a class="headerlink" href="#blivet.devicelibs.raid.RAIDLevel.names" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract properties.</p>
<p>Deprecated, use ‘property’ with ‘abstractmethod’ instead:</p>
<blockquote>
<div><dl>
<dt>class C(ABC):</dt><dd><p>&#64;property
&#64;abstractmethod
def my_abstract_property(self):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="blivet.devicelibs.raid.RAIDLevels">
<em class="property">class </em><code class="sig-prename descclassname">blivet.devicelibs.raid.</code><code class="sig-name descname">RAIDLevels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">levels</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.RAIDLevels" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class which keeps track of registered RAID levels. This class
may be extended, overriding the is_raid method to include any
additional properties that a client of this package may require
for its RAID levels.</p>
<p>Add the specified standard levels to the levels in this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>levels</strong> (<em>list of valid RAID level descriptors</em>) – the levels to be added to this object</p>
</dd>
</dl>
<p>If levels is True, add all standard levels. Else, levels
must be a list of valid level descriptors of standard levels.
Duplicate descriptors are ignored.</p>
<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDLevels.add_raid_level">
<code class="sig-name descname">add_raid_level</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">level</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.RAIDLevels.add_raid_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds level to levels if it is not already there.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><em>object</em></a>) – an object representing a RAID level</p>
</dd>
</dl>
<p>Raises a RaidError if level is not valid.</p>
<p>Does not allow duplicate level objects.</p>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDLevels.is_raid_level">
<em class="property">classmethod </em><code class="sig-name descname">is_raid_level</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">level</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.RAIDLevels.is_raid_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Return False if level does not satisfy minimum requirements for
a RAID level, otherwise return True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><em>object</em></a>) – an object representing a RAID level</p>
</dd>
</dl>
<p>There must be at least one element in the names list, or the level
will be impossible to look up by any string.</p>
<p>The name property must be defined; it should be one of the
elements in the names list.</p>
<p>All RAID objects that extend RAIDlevel are guaranteed to pass these
minimum requirements.</p>
<p>This method should not be overridden in any subclass so that it
is so restrictive that a RAIDlevel object does not satisfy it.</p>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDLevels.raid_level">
<code class="sig-name descname">raid_level</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.RAIDLevels.raid_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Return RAID object corresponding to descriptor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>descriptor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><em>object</em></a>) – a RAID level descriptor</p>
</dd>
</dl>
<p>Note that descriptor may be any object that identifies a
RAID level, including the RAID object itself.</p>
<p>Raises a RaidError if no RAID object can be found for this
descriptor.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="blivet.devicelibs.raid.RAIDn">
<em class="property">class </em><code class="sig-prename descclassname">blivet.devicelibs.raid.</code><code class="sig-name descname">RAIDn</code><a class="headerlink" href="#blivet.devicelibs.raid.RAIDn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#blivet.devicelibs.raid.RAIDLevel" title="blivet.devicelibs.raid.RAIDLevel"><code class="xref py py-class docutils literal notranslate"><span class="pre">blivet.devicelibs.raid.RAIDLevel</span></code></a></p>
<p>An abstract class which is the parent of classes which represent a
numeric RAID level. A better word would be classification, since ‘level’
implies an ordering, but level is the canonical word.</p>
<p>The abstract properties of the class are:</p>
<ul class="simple">
<li><p>level: A string containing the number that designates this level</p></li>
<li><p>nick: A single nickname for this level, may be None</p></li>
</ul>
<blockquote>
<div><p>All methods in this class fall into these categories:</p>
<ol class="arabic simple">
<li><p>May not be overrridden in any subclass.</p></li>
<li><p>Are private abstract methods.</p></li>
<li><p>Are special Python methods, e.g., __str__</p></li>
</ol>
<p>Note that each subclass in this file is instantiated immediately after
it is defined and using the same name, effectively yielding a
singleton object of the class.</p>
</div></blockquote>
<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDn.alt_synth_names">
<em class="property">property </em><code class="sig-name descname">alt_synth_names</code><a class="headerlink" href="#blivet.devicelibs.raid.RAIDn.alt_synth_names" title="Permalink to this definition">¶</a></dt>
<dd><p>names that can be synthesized from level but are not name</p>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDn.get_base_member_size">
<code class="sig-name descname">get_base_member_size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">member_count</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.RAIDn.get_base_member_size" title="Permalink to this definition">¶</a></dt>
<dd><p>The required size for each member of the array for
storing only data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<a class="reference internal" href="blivet.html#blivet.size.Size" title="blivet.size.Size"><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></a>) – size of data to be stored</p></li>
<li><p><strong>member_count</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – number of members in this array</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="blivet.html#blivet.size.Size" title="blivet.size.Size"><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></a></p>
</dd>
</dl>
<p>Raises a RaidError if member_count is fewer than the minimum
number of members required for this array or if size is less
than 0.</p>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDn.get_max_spares">
<code class="sig-name descname">get_max_spares</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">member_count</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.RAIDn.get_max_spares" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum number of spares for this level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>member_count</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the number of members belonging to the array</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
<p>Raiess a RaidError if member_count is fewer than the minimum
number of members required for this level.</p>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDn.get_net_array_size">
<code class="sig-name descname">get_net_array_size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">member_count</span></em>, <em class="sig-param"><span class="n">smallest_member_size</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.RAIDn.get_net_array_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the space, essentially the number of bits available
for storage. This value is generally a function of the
smallest member size. If the smallest member size represents
the amount of data that can be stored on the smallest member,
then the result will represent the amount of data that can be
stored on the array. If the smallest member size represents
both data and metadata, then the result will represent the
available space in the array for both data and metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>member_count</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the number of members in the array</p></li>
<li><p><strong>smallest_member_size</strong> (<a class="reference internal" href="blivet.html#blivet.size.Size" title="blivet.size.Size"><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></a>) – the size of the smallest
member of this array</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the array size</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="blivet.html#blivet.size.Size" title="blivet.size.Size"><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></a></p>
</dd>
</dl>
<p>Raises a RaidError if member_count is fewer than the minimum
number of members required for this array or if size is less
than 0.</p>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDn.get_recommended_stride">
<code class="sig-name descname">get_recommended_stride</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">member_count</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.RAIDn.get_recommended_stride" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a recommended stride size in blocks.</p>
<p>Returns None if there is no recommended size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>member_count</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the number of members in the array</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
<p>Raises a RaidError if member_count is fewer than the
minimum number of members required for this level</p>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDn.get_size">
<code class="sig-name descname">get_size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">member_sizes</span></em>, <em class="sig-param"><span class="n">num_members</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">chunk_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">superblock_size_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.RAIDn.get_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the amount of data that can be stored on this array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>member_size</strong> (list of <a class="reference internal" href="blivet.html#blivet.size.Size" title="blivet.size.Size"><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></a>) – a list of the sizes of members of this array</p></li>
<li><p><strong>num_members</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the number of members in the array</p></li>
<li><p><strong>chunk_size</strong> (<a class="reference internal" href="blivet.html#blivet.size.Size" title="blivet.size.Size"><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></a>) – the smallest unit of size read or written</p></li>
<li><p><strong>superblock_size_func</strong> (a function from <a class="reference internal" href="blivet.html#blivet.size.Size" title="blivet.size.Size"><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></a> to
<a class="reference internal" href="blivet.html#blivet.size.Size" title="blivet.size.Size"><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></a>) – a function that estimates the
superblock size for this array</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an estimate of the amount of data that can be stored on
this array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="blivet.html#blivet.size.Size" title="blivet.size.Size"><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></a></p>
</dd>
</dl>
<p>Note that the number of members in the array may not be the same
as the length of member_sizes if the array is still
under construction.</p>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDn.get_space">
<code class="sig-name descname">get_space</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">num_members</span></em>, <em class="sig-param"><span class="n">chunk_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">superblock_size_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.RAIDn.get_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the amount of memory required by this array, including
memory allocated for metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<a class="reference internal" href="blivet.html#blivet.size.Size" title="blivet.size.Size"><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></a>) – the amount of data on this array</p></li>
<li><p><strong>num_members</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the number of members in the array</p></li>
<li><p><strong>chunk_size</strong> (<a class="reference internal" href="blivet.html#blivet.size.Size" title="blivet.size.Size"><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></a>) – the smallest unit of size read or written</p></li>
<li><p><strong>superblock_size_func</strong> (a function from <a class="reference internal" href="blivet.html#blivet.size.Size" title="blivet.size.Size"><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></a> to
<a class="reference internal" href="blivet.html#blivet.size.Size" title="blivet.size.Size"><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></a>) – a function that estimates the
superblock size for this array</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an estimate of the memory required, including metadata</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="blivet.html#blivet.size.Size" title="blivet.size.Size"><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDn.is_uniform">
<em class="property">property </em><code class="sig-name descname">is_uniform</code><a class="headerlink" href="#blivet.devicelibs.raid.RAIDn.is_uniform" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract properties.</p>
<p>Deprecated, use ‘property’ with ‘abstractmethod’ instead:</p>
<blockquote>
<div><dl>
<dt>class C(ABC):</dt><dd><p>&#64;property
&#64;abstractmethod
def my_abstract_property(self):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDn.level">
<em class="property">abstract property </em><code class="sig-name descname">level</code><a class="headerlink" href="#blivet.devicelibs.raid.RAIDn.level" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract properties.</p>
<p>Deprecated, use ‘property’ with ‘abstractmethod’ instead:</p>
<blockquote>
<div><dl>
<dt>class C(ABC):</dt><dd><p>&#64;property
&#64;abstractmethod
def my_abstract_property(self):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDn.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#blivet.devicelibs.raid.RAIDn.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The canonical name for this level</p>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDn.names">
<em class="property">property </em><code class="sig-name descname">names</code><a class="headerlink" href="#blivet.devicelibs.raid.RAIDn.names" title="Permalink to this definition">¶</a></dt>
<dd><p>all valid names for this level</p>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDn.nick">
<em class="property">abstract property </em><code class="sig-name descname">nick</code><a class="headerlink" href="#blivet.devicelibs.raid.RAIDn.nick" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract properties.</p>
<p>Deprecated, use ‘property’ with ‘abstractmethod’ instead:</p>
<blockquote>
<div><dl>
<dt>class C(ABC):</dt><dd><p>&#64;property
&#64;abstractmethod
def my_abstract_property(self):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="blivet.devicelibs.raid.RAIDn.number">
<em class="property">property </em><code class="sig-name descname">number</code><a class="headerlink" href="#blivet.devicelibs.raid.RAIDn.number" title="Permalink to this definition">¶</a></dt>
<dd><p>A numeric code for this level</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="blivet.devicelibs.raid.div_up">
<code class="sig-prename descclassname">blivet.devicelibs.raid.</code><code class="sig-name descname">div_up</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.div_up" title="Permalink to this definition">¶</a></dt>
<dd><p>Rounds up integer division.  For example, div_up(3, 2) is 2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the dividend</p></li>
<li><p><strong>b</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the divisor</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="blivet.devicelibs.raid.get_raid_level">
<code class="sig-prename descclassname">blivet.devicelibs.raid.</code><code class="sig-name descname">get_raid_level</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blivet.devicelibs.raid.get_raid_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to return a RAID level for the descriptor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>descriptor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><em>object</em></a>) – a RAID level descriptor</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#blivet.devicelibs.raid.RAIDLevel" title="blivet.devicelibs.raid.RAIDLevel">RAIDLevel</a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The RAIDLevel object for this descriptor</p>
</dd>
</dl>
<p>Note that descriptor may be any object that identifies a
RAID level, including the RAID object itself.</p>
<p>Raises a RaidError is there is no RAID object for the descriptor.</p>
</dd></dl>

</div>
<div class="section" id="module-blivet.devicelibs">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-blivet.devicelibs" title="Permalink to this headline">¶</a></h2>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">blivet.devicelibs package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-blivet.devicelibs.btrfs">blivet.devicelibs.btrfs module</a></li>
<li><a class="reference internal" href="#module-blivet.devicelibs.crypto">blivet.devicelibs.crypto module</a></li>
<li><a class="reference internal" href="#module-blivet.devicelibs.disk">blivet.devicelibs.disk module</a></li>
<li><a class="reference internal" href="#module-blivet.devicelibs.edd">blivet.devicelibs.edd module</a></li>
<li><a class="reference internal" href="#module-blivet.devicelibs.lvm">blivet.devicelibs.lvm module</a></li>
<li><a class="reference internal" href="#module-blivet.devicelibs.mdraid">blivet.devicelibs.mdraid module</a></li>
<li><a class="reference internal" href="#module-blivet.devicelibs.raid">blivet.devicelibs.raid module</a></li>
<li><a class="reference internal" href="#module-blivet.devicelibs">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="blivet.dbus.html"
                        title="previous chapter">blivet.dbus package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="blivet.devices.html"
                        title="next chapter">blivet.devices package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/blivet/blivet.devicelibs.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="blivet.devices.html" title="blivet.devices package"
             >next</a> |</li>
        <li class="right" >
          <a href="blivet.dbus.html" title="blivet.dbus package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Blivet 3.4.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="blivet.html" >blivet package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">blivet.devicelibs package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013-2021, Red Hat, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>